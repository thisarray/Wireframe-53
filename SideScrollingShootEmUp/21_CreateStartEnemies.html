<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CreateStartEnemies</title>
  <script src="../../jsgame0.js"></script>
  <script id="foreground" type="application/json">
[["leftforeground_narrow", 1634, 571], ["centreforeground_narrow", 1831, 571], ["centreforeground_narrow", 2072, 571], ["centreforeground_narrow", 2314, 571], ["leftvertforeground_narrow", 2420, 506], ["centreforeground", 2557, 569], ["centreforeground", 2800, 569], ["centreforeground", 3041, 569],
 ["centreforeground", 3284, 569], ["centreforeground", 3525, 569], ["centreforeground", 3767, 569], ["leftforeground_narrow_top", 3840, 31], ["centreforeground", 4009, 569], ["centreforeground_narrow_top", 4038, 31], ["centreforeground", 4250, 569], ["centreforeground_narrow_top", 4280, 31],
 ["centreforeground", 4492, 569], ["centreforeground_narrow_top", 4522, 31], ["centreforeground", 4734, 569], ["centreforeground_narrow_top", 4765, 31], ["centreforeground", 4976, 569], ["centreforeground_narrow_top", 5008, 31], ["leftforeground_narrow", 5081, 249], ["leftforeground_narrow_top", 5081, 314],
 ["centreforeground", 5219, 569], ["centreforeground_narrow_top", 5251, 31], ["centreforeground_narrow", 5278, 249], ["centreforeground_narrow_top", 5279, 314], ["centreforeground", 5462, 569], ["centreforeground_narrow_top", 5493, 31], ["centreforeground_narrow", 5521, 249], ["centreforeground_narrow_top", 5522, 314],
 ["centreforeground", 5704, 569], ["centreforeground_narrow_top", 5736, 31], ["centreforeground_narrow", 5763, 249], ["centreforeground_narrow_top", 5763, 314], ["centreforeground", 5946, 569], ["centreforeground_narrow_top", 5978, 31], ["centreforeground_narrow", 6006, 249], ["centreforeground_narrow_top", 6006, 314],
 ["centreforeground", 6189, 569], ["centreforeground_narrow_top", 6221, 31], ["centreforeground_narrow", 6249, 249], ["centreforeground_narrow_top", 6249, 314], ["centreforeground", 6432, 569], ["centreforeground_narrow_top", 6463, 31], ["rightforeground_narrow", 6446, 249], ["rightforeground_narrow_top", 6447, 314],
 ["centreforeground", 6675, 569], ["centreforeground_narrow_top", 6706, 31], ["centreforeground", 6918, 569], ["centreforeground_narrow_top", 6949, 31], ["centreforeground", 7161, 569], ["centreforeground_narrow_top", 7191, 31], ["centreforeground", 7403, 569], ["centreforeground_narrow_top", 7433, 31], ["centreforeground", 7645, 569],
 ["centreforeground_narrow_top", 7675, 31], ["centreforeground", 7887, 569], ["rightforeground_narrow_top", 7873, 31], ["centreforeground", 8128, 569], ["centreforeground", 8370, 569], ["centreforeground", 8613, 569], ["centreforeground", 8856, 569], ["leftforeground", 9112, 377], ["centre", 9099, 549],
 ["centre", 9342, 549], ["centreforeground", 9438, 377], ["centre", 9585, 548], ["centreforeground", 9680, 377], ["centre", 9827, 546], ["centreforeground", 9923, 377], ["centre", 10069, 546], ["centreforeground", 10166, 377],
 ["centre", 10310, 546], ["centreforeground", 10409, 377], ["centre", 10551, 546], ["centreforeground", 10652, 377], ["centre", 10652, 543], ["rightvertforeground", 10788, 548], ["rightvertforeground", 10788, 377]]
  </script>
  <script id="enemy" type="application/json">
{
  "ball": {
    "hits": 1,
    "path": [[832, 0], [790, 1], [780, 5], [770, 11], [760, 19], [750, 29], [740, 40], [730, 53], [720, 68], [710, 83], [700, 98], [690, 114], [680, 129], [670, 143], [660, 157], [650, 169], [640, 179], [630, 188], [620, 194], [610, 198], [600, 200], [590, 199], [580, 196], [570, 191], [560, 184], [550, 174], [540, 163], [530, 150], [520, 136], [510, 121], [500, 106], [490, 90], [480, 75], [470, 60], [460, 47], [450, 34], [440, 23], [430, 14], [420, 7], [410, 3], [400, 0], [390, 0], [380, 3], [370, 7], [360, 14], [350, 23], [340, 34], [330, 47], [320, 60], [310, 75], [300, 90], [290, 106], [280, 121], [270, 136], [260, 150], [250, 163], [240, 174], [230, 184], [220, 191], [210, 196], [200, 199], [190, 200], [180, 198], [170, 194], [160, 188], [150, 179], [140, 169], [130, 157], [120, 143], [110, 129], [100, 114], [90, 98], [80, 83], [70, 68], [60, 53], [50, 40], [40, 29], [30, 19], [20, 11], [10, 5], [0, 1], [-10, 0], [-160, 0]],
    "speed": 4,
    "powerup": true
  },
  "cannon": {
    "hits": 4,
    "path": [[824, 0], [-160, 0]],
    "speed": 1,
    "bullets": "more"
  },
  "cannon_top": {
    "hits": 4,
    "path": [[824, 0], [-160, 0]],
    "speed": 1,
    "bullets": "more"
  },
  "flying_saucer": {
    "hits": 10,
    "path": [[857, 0], [790, -1], [780, -3], [770, -6], [760, -11], [750, -16], [740, -23], [730, -31], [720, -40], [710, -50], [700, -60], [690, -71], [680, -83], [670, -94], [660, -106], [650, -117], [640, -129], [630, -140], [620, -150], [610, -160], [600, -169], [590, -177], [580, -184], [570, -189], [560, -194], [550, -197], [540, -199], [530, -200], [520, -199], [510, -197], [500, -194], [490, -189], [480, -184], [470, -177], [460, -169], [450, -160], [440, -150], [430, -140], [420, -129], [410, -117], [400, -106], [390, -94], [380, -83], [370, -71], [360, -60], [350, -50], [340, -40], [330, -31], [320, -23], [310, -16], [300, -11], [290, -6], [280, -3], [270, -1], [260, 0], [250, -1], [240, -3], [230, -6], [220, -11], [210, -16], [200, -23], [190, -31], [180, -40], [170, -50], [160, -60], [150, -71], [140, -83], [130, -94], [120, -106], [110, -117], [100, -129], [90, -140], [80, -150], [70, -160], [60, -169], [50, -177], [40, -184], [30, -189], [20, -194], [10, -197], [0, -199], [-10, -200], [-160, -200]],
    "speed": 3,
    "bullets": "some"
  },
  "rocket": {
    "hits": 1,
    "path": [[885, 0], [-160, 0]],
    "speed": 6,
    "movement": "accelerate"
  },
  "ship_alien": {
    "hits": 1,
    "path": [[850, 0], [762, 0], [711, -5], [680, -13], [663, -21], [634, -34], [608, -42], [578, -52], [522, -62], [459, -66], [-160, -66]],
    "speed": 4
  },
  "ship_cannon": {
    "hits": 12,
    "path": [[875, 0], [790, 0], [780, 0], [770, 1], [760, 1], [750, 2], [740, 3], [730, 4], [720, 5], [710, 6], [700, 7], [690, 9], [680, 11], [670, 12], [660, 14], [650, 16], [640, 19], [630, 21], [620, 23], [610, 26], [600, 29], [590, 31], [580, 34], [570, 37], [560, 40], [550, 43], [540, 47], [530, 50], [520, 53], [510, 57], [500, 60], [490, 64], [480, 68], [470, 71], [460, 75], [450, 79], [440, 83], [430, 86], [420, 90], [410, 94], [400, 98], [390, 102], [380, 106], [370, 110], [360, 114], [350, 117], [340, 121], [330, 125], [320, 129], [310, 132], [300, 136], [290, 140], [280, 143], [270, 147], [260, 150], [250, 153], [240, 157], [230, 160], [220, 163], [210, 166], [200, 169], [190, 171], [180, 174], [170, 177], [160, 179], [150, 181], [140, 184], [130, 186], [120, 188], [110, 189], [100, 191], [90, 193], [80, 194], [70, 195], [60, 196], [50, 197], [40, 198], [30, 199], [20, 199], [10, 200], [0, 200], [-160, 200]],
    "speed": 2,
    "bullets": "more"
  },
  "ship_fighter": {
    "hits": 6,
    "path": [[863, 0], [790, 0], [780, 1], [770, 3], [760, 5], [750, 7], [740, 11], [730, 14], [720, 19], [710, 23], [700, 29], [690, 34], [680, 40], [670, 47], [660, 53], [650, 60], [640, 68], [630, 75], [620, 83], [610, 90], [600, 98], [590, 106], [580, 114], [570, 121], [560, 129], [550, 136], [540, 143], [530, 150], [520, 157], [510, 163], [500, 169], [490, 174], [480, 179], [470, 184], [460, 188], [450, 191], [440, 194], [430, 196], [420, 198], [410, 199], [400, 200], [390, 200], [380, 199], [370, 198], [360, 196], [350, 194], [340, 191], [330, 188], [320, 184], [310, 179], [300, 174], [290, 169], [280, 163], [270, 157], [260, 150], [250, 143], [240, 136], [230, 129], [220, 121], [210, 114], [200, 106], [190, 98], [180, 90], [170, 83], [160, 75], [150, 68], [140, 60], [130, 53], [120, 47], [110, 40], [100, 34], [90, 29], [80, 23], [70, 19], [60, 14], [50, 11], [40, 7], [30, 5], [20, 3], [10, 1], [0, 0], [-160, 0]],
    "speed": 4,
    "bullets": "more"
  },
  "ship_pistol": {
    "hits": 12,
    "path": [[851, 0], [751, 4], [704, 15], [660, 33], [620, 57], [585, 87], [556, 121], [535, 158], [520, 196], [513, 235], [513, 272], [521, 307], [535, 337], [554, 363], [577, 382], [604, 395], [632, 400], [661, 398], [688, 388], [713, 371], [734, 348], [750, 319], [760, 286], [764, 250], [760, 212], [748, 173], [729, 135], [703, 100], [671, 68], [633, 42], [590, 21], [544, 7], [495, 1], [447, 1], [399, 10], [353, 25], [311, 47], [274, 74], [243, 107], [218, 143], [201, 181], [191, 219], [188, 257], [193, 293], [204, 326], [221, 353], [243, 375], [269, 390], [297, 399], [325, 399], [354, 393], [380, 379], [403, 358], [421, 332], [433, 300], [439, 265], [438, 227], [430, 188], [414, 150], [390, 114], [360, 81], [324, 52], [283, 29], [238, 12], [191, 2], [142, 0], [-160, 0]],
    "speed": 3,
    "bullets": "more"
  },
  "big_ship": {
    "hits": 1000,
    "path": [[980, 0], [624, 0]],
    "speed": 0.5,
    "movement": "boss",
    "bullets": "boss"
  }
}
  </script>
  <style type="text/css" media="screen">
body {
  background-color: white;
  color: black;
}
.hidden {
  display: none;
}
#original {
  margin-left: 1em;
}
  </style>
</head>

<body>
<section id="imageLoader" class="hidden">
  <img class="hidden" src="images/background_0.png" alt="background_0" data-name="background_0">
  <img class="hidden" src="images/background_1.png" alt="background_1" data-name="background_1">
  <img class="hidden" src="images/ball.png" alt="ball" data-name="ball">
  <img class="hidden" src="images/ball_white.png" alt="ball_white" data-name="ball_white">
  <img class="hidden" src="images/big_ship.png" alt="big_ship" data-name="big_ship">
  <img class="hidden" src="images/big_ship_white.png" alt="big_ship_white" data-name="big_ship_white">
  <img class="hidden" src="images/bullet.png" alt="bullet" data-name="bullet">
  <img class="hidden" src="images/cannon.png" alt="cannon" data-name="cannon">
  <img class="hidden" src="images/cannon_top.png" alt="cannon_top" data-name="cannon_top">
  <img class="hidden" src="images/cannon_top_white.png" alt="cannon_top_white" data-name="cannon_top_white">
  <img class="hidden" src="images/cannon_white.png" alt="cannon_white" data-name="cannon_white">
  <img class="hidden" src="images/centre.png" alt="centre" data-name="centre">
  <img class="hidden" src="images/centreforeground.png" alt="centreforeground" data-name="centreforeground">
  <img class="hidden" src="images/centreforeground_narrow.png" alt="centreforeground_narrow" data-name="centreforeground_narrow">
  <img class="hidden" src="images/centreforeground_narrow_top.png" alt="centreforeground_narrow_top" data-name="centreforeground_narrow_top">
  <img class="hidden" src="images/centreforeground_top.png" alt="centreforeground_top" data-name="centreforeground_top">
  <img class="hidden" src="images/explosion_0.png" alt="explosion_0" data-name="explosion_0">
  <img class="hidden" src="images/explosion_1.png" alt="explosion_1" data-name="explosion_1">
  <img class="hidden" src="images/explosion_2.png" alt="explosion_2" data-name="explosion_2">
  <img class="hidden" src="images/explosion_3.png" alt="explosion_3" data-name="explosion_3">
  <img class="hidden" src="images/explosion_4.png" alt="explosion_4" data-name="explosion_4">
  <img class="hidden" src="images/explosion_5.png" alt="explosion_5" data-name="explosion_5">
  <img class="hidden" src="images/explosion_6.png" alt="explosion_6" data-name="explosion_6">
  <img class="hidden" src="images/explosion_7.png" alt="explosion_7" data-name="explosion_7">
  <img class="hidden" src="images/explosion_8.png" alt="explosion_8" data-name="explosion_8">
  <img class="hidden" src="images/explosion_9.png" alt="explosion_9" data-name="explosion_9">
  <img class="hidden" src="images/flying_saucer.png" alt="flying_saucer" data-name="flying_saucer">
  <img class="hidden" src="images/flying_saucer_white.png" alt="flying_saucer_white" data-name="flying_saucer_white">
  <img class="hidden" src="images/impact_0.png" alt="impact_0" data-name="impact_0">
  <img class="hidden" src="images/impact_1.png" alt="impact_1" data-name="impact_1">
  <img class="hidden" src="images/impact_2.png" alt="impact_2" data-name="impact_2">
  <img class="hidden" src="images/impact_3.png" alt="impact_3" data-name="impact_3">
  <img class="hidden" src="images/impact_4.png" alt="impact_4" data-name="impact_4">
  <img class="hidden" src="images/impact_5.png" alt="impact_5" data-name="impact_5">
  <img class="hidden" src="images/impact_6.png" alt="impact_6" data-name="impact_6">
  <img class="hidden" src="images/impact_7.png" alt="impact_7" data-name="impact_7">
  <img class="hidden" src="images/laser.png" alt="laser" data-name="laser">
  <img class="hidden" src="images/leftforeground.png" alt="leftforeground" data-name="leftforeground">
  <img class="hidden" src="images/lives.png" alt="lives" data-name="lives">
  <img class="hidden" src="images/leftforeground_narrow.png" alt="leftforeground_narrow" data-name="leftforeground_narrow">
  <img class="hidden" src="images/leftforeground_narrow_top.png" alt="leftforeground_narrow_top" data-name="leftforeground_narrow_top">
  <img class="hidden" src="images/leftforeground_top.png" alt="leftforeground_top" data-name="leftforeground_top">
  <img class="hidden" src="images/leftvertforeground.png" alt="leftvertforeground" data-name="leftvertforeground">
  <img class="hidden" src="images/leftvertforeground_narrow.png" alt="leftvertforeground_narrow" data-name="leftvertforeground_narrow">
  <img class="hidden" src="images/leftvertforeground_narrow_top.png" alt="leftvertforeground_narrow_top" data-name="leftvertforeground_narrow_top">
  <img class="hidden" src="images/leftvertforeground_top.png" alt="leftvertforeground_top" data-name="leftvertforeground_top">
  <img class="hidden" src="images/plus.png" alt="plus" data-name="plus">
  <img class="hidden" src="images/rightforeground.png" alt="rightforeground" data-name="rightforeground">
  <img class="hidden" src="images/rightforeground_narrow.png" alt="rightforeground_narrow" data-name="rightforeground_narrow">
  <img class="hidden" src="images/rightforeground_narrow_top.png" alt="rightforeground_narrow_top" data-name="rightforeground_narrow_top">
  <img class="hidden" src="images/rightforeground_top.png" alt="rightforeground_top" data-name="rightforeground_top">
  <img class="hidden" src="images/rightvertforeground.png" alt="rightvertforeground" data-name="rightvertforeground">
  <img class="hidden" src="images/rightvertforeground_narrow.png" alt="rightvertforeground_narrow" data-name="rightvertforeground_narrow">
  <img class="hidden" src="images/rocket.png" alt="rocket" data-name="rocket">
  <img class="hidden" src="images/rightvertforeground_narrow_top.png" alt="rightvertforeground_narrow_top" data-name="rightvertforeground_narrow_top">
  <img class="hidden" src="images/rightvertforeground_top.png" alt="rightvertforeground_top" data-name="rightvertforeground_top">
  <img class="hidden" src="images/rocket_white.png" alt="rocket_white" data-name="rocket_white">
  <img class="hidden" src="images/ship_alien.png" alt="ship_alien" data-name="ship_alien">
  <img class="hidden" src="images/ship_alien_white.png" alt="ship_alien_white" data-name="ship_alien_white">
  <img class="hidden" src="images/ship_cannon.png" alt="ship_cannon" data-name="ship_cannon">
  <img class="hidden" src="images/ship_cannon_white.png" alt="ship_cannon_white" data-name="ship_cannon_white">
  <img class="hidden" src="images/ship_fighter.png" alt="ship_fighter" data-name="ship_fighter">
  <img class="hidden" src="images/ship_fighter_white.png" alt="ship_fighter_white" data-name="ship_fighter_white">
  <img class="hidden" src="images/ship_pistol.png" alt="ship_pistol" data-name="ship_pistol">
  <img class="hidden" src="images/ship_pistol_white.png" alt="ship_pistol_white" data-name="ship_pistol_white">
  <img class="hidden" src="images/spaceship.png" alt="spaceship" data-name="spaceship">
  <img class="hidden" src="images/text_0.png" alt="text_0" data-name="text_0">
  <img class="hidden" src="images/text_1.png" alt="text_1" data-name="text_1">
  <img class="hidden" src="images/text_2.png" alt="text_2" data-name="text_2">
  <img class="hidden" src="images/text_3.png" alt="text_3" data-name="text_3">
</section>

<main>
<h1>CreateStartEnemies</h1>

<canvas id="screen">
The game screen appears here if your browser supports the Canvas API.
</canvas>
<section id="controls">
  <button type="button" id="reset">Reset</button>
  <button type="button" id="pause">Pause</button>
</section>

<pre id="output"></pre>

<h2>Attribution</h2>

<p><a href="https://wireframe.raspberrypi.org/issues/53">Create your own side-scrolling shoot-'em-up, pages 58-63, by Jordi Sontanja</a>.</p>

<p>Licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/legalcode">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported</a>.</p>

<h2>Original Python code</h2>

<pre id="original"><code>
import pgzrun
from pygame import image, Color, Surface
import math
from random import randint
from pgzero.builtins import Actor
from shapely.geometry import Polygon
from shapely.affinity import translate

foregroundNames = [&#x27;centreforeground&#x27;, &#x27;leftforeground&#x27;, &#x27;leftvertforeground&#x27;,
                   &#x27;rightforeground&#x27;, &#x27;rightvertforeground&#x27;,
                   &#x27;centreforeground_top&#x27;, &#x27;leftforeground_top&#x27;, &#x27;leftvertforeground_top&#x27;,
                   &#x27;rightforeground_top&#x27;, &#x27;rightvertforeground_top&#x27;,
                   &#x27;centreforeground_narrow&#x27;, &#x27;centreforeground_narrow_top&#x27;,
                   &#x27;leftforeground_narrow&#x27;, &#x27;leftforeground_narrow_top&#x27;,
                   &#x27;leftvertforeground_narrow&#x27;, &#x27;leftvertforeground_narrow_top&#x27;,
                   &#x27;rightforeground_narrow&#x27;, &#x27;rightforeground_narrow_top&#x27;,
                   &#x27;rightvertforeground_narrow&#x27;, &#x27;rightvertforeground_narrow_top&#x27;,
                   &#x27;centre&#x27;]

foregroundMap = [(12,1634,571),(10,1831,571),(10,2072,571),(10,2314,571),(14,2420,506),(0,2557,569),(0,2800,569),(0,3041,569),
                 (0,3284,569),(0,3525,569),(0,3767,569),(13,3840,31),(0,4009,569),(11,4038,31),(0,4250,569),(11,4280,31),
                 (0,4492,569),(11,4522,31),(0,4734,569),(11,4765,31),(0,4976,569),(11,5008,31),(12,5081,249),(13,5081,314),
                 (0,5219,569),(11,5251,31),(10,5278,249),(11,5279,314),(0,5462,569),(11,5493,31),(10,5521,249),(11,5522,314),
                 (0,5704,569),(11,5736,31),(10,5763,249),(11,5763,314),(0,5946,569),(11,5978,31),(10,6006,249),(11,6006,314),
                 (0,6189,569),(11,6221,31),(10,6249,249),(11,6249,314),(0,6432,569),(11,6463,31),(16,6446,249),(17,6447,314),
                 (0,6675,569),(11,6706,31),(0,6918,569),(11,6949,31),(0,7161,569),(11,7191,31),(0,7403,569),(11,7433,31),(0,7645,569),
                 (11,7675,31),(0,7887,569),(17,7873,31),(0,8128,569),(0,8370,569),(0,8613,569),(0,8856,569),(1,9112,377),(20,9099,549),
                 (20,9342,549),(0,9438,377),(20,9585,548),(0,9680,377),(20,9827,546),(0,9923,377),(20,10069,546),(0,10166,377),
                 (20,10310,546),(0,10409,377),(20,10551,546),(0,10652,377),(20,10652,543),(4,10788,548),(4,10788,377)]

foregroundPolygons = [[(-122, -96), (120, -96), (120, 96), (-122, 96)], [(-204, 96), (186, -96), (204, -96), (204, 95)],
                      [(-14, 95), (-14, -95), (14, -95), (14, 95)], [(-206, -95), (-187, -95), (200, 95), (-206, 95)],
                      [(-15, -95), (12, -95), (12, 95), (-15, 95)], [(120, -95), (120, 95), (-122, 95), (-122, -95)],
                      [(204, -95), (204, 95), (186, 95), (-202, -96)], [(14, 95), (-14, 95), (-14, -95), (13, -95)],
                      [(-207, -96), (201, -96), (-187, 95), (-206, 95)], [(-15, -96), (12, -96), (12, 95), (-15, 95)],
                      [(-122, -33), (120, -33), (120, 31), (-122, 31)], [(-122, -33), (120, -33), (120, 31), (-122, 31)],
                      [(-73, 31), (56, -32), (75, -32), (75, 31)], [(75, 31), (56, 31), (-74, -33), (75, -33)],
                      [(14, 31), (-14, 31), (-14, -32), (13, -32)], [(14, 32), (-14, 32), (-14, -33), (13, -33)],
                      [(-77, -33), (-58, -33), (70, 31), (-77, 31)], [(-77, -33), (72, -33), (-58, 31), (-77, 31)],
                      [(-15, -33), (12, -33), (12, 31), (-15, 31)], [(-15, -33), (13, -33), (13, 31), (-15, 31)],
                      []]

foregroundBiggestObjectHalfXSize = 206

class Foreground:
    def __init__(self):
        self.elements = []
        self.indexes = []
        self.mapElement = 0
        self.polygons = []
    def draw(self):
        for element in self.elements:
            element.draw()
    def update(self, globalTime):
        for i in reversed(range(len(self.elements))):
            self.elements[i].x -= 1
            if self.elements[i].x &lt; -foregroundBiggestObjectHalfXSize:
                del self.elements[i]
                del self.indexes[i]
        if self.mapElement &lt; len(foregroundMap):
            while foregroundMap[self.mapElement][1] &lt; globalTime + 800 + foregroundBiggestObjectHalfXSize:
                self.indexes.append(foregroundMap[self.mapElement][0])
                self.elements.append(Actor(foregroundNames[foregroundMap[self.mapElement][0]], (foregroundMap[self.mapElement][1] - globalTime, foregroundMap[self.mapElement][2])))
                self.mapElement += 1
                if self.mapElement &gt;= len(foregroundMap):
                    break
        self.polygons = []
        for i in range(len(self.indexes)):
            polygon = translate(Polygon(foregroundPolygons[self.indexes[i]]), self.elements[i].x, self.elements[i].y)
            self.polygons.append(polygon)

enemyNames = [&#x27;ball&#x27;, &#x27;cannon&#x27;, &#x27;cannon_top&#x27;, &#x27;flying_saucer&#x27;,
              &#x27;rocket&#x27;, &#x27;ship_alien&#x27;, &#x27;ship_cannon&#x27;, &#x27;ship_fighter&#x27;, &#x27;ship_pistol&#x27;, &#x27;big_ship&#x27; ]

enemyPolyCoords = [[(-6, -30), (-21, -27), (-30, -19), (-33, -3), (-27, 11), (-19, 20), (-5, 30), (11, 31), (26, 17), (29, -12), (10, -23)],
                   [(-17, 29), (-13, -4), (-23, -11), (-21, -29), (9, -24), (23, -13), (18, 30)],
                   [(-17, -29), (-12, 3), (-22, 6), (-21, 27), (6, 24), (23, 12), (18, -30)],
                   [(-24, 7), (-56, 23), (53, 23), (17, 6), (17, -10), (6, -23), (-14, -23), (-22, -9)],
                   [(73, -20), (-27, -20), (-64, -14), (-85, -5), (-75, 5), (-33, 15), (11, 19), (73, 19), (83, 8), (83, -13)],
                   [(-36, -19), (-48, -10), (-50, 5), (-44, 16), (-31, 23), (-11, 23), (24, 16), (41, -20), (10, -22), (-26, -21)],
                   [(28, -31), (-74, -31), (-74, 8), (-37, 8), (-20, 22), (9, 31), (37, 30), (62, 19), (72, 13), (72, -12), (48, -24), (31, -28)],
                   [(-51, -15), (-60, -11), (-63, -1), (-54, 8), (-21, 8), (18, 22), (41, 24), (58, 18), (61, -26), (23, -24), (-19, -16)],
                   [(-50, -22), (-23, 15), (-9, 27), (4, 32), (26, 24), (42, 7), (49, -15), (41, -28), (16, -33), (7, -33), (7, -26)],
                   [(-144, -32), (-160, -35), (-173, -8), (-164, 11), (-151, 19), (-119, 24), (-142, 30), (-139, 41), (-93, 37), (-82, 31), (-72, 51), (-35, 38), (-30, 53), (5, 65), (100, 69), (108, 61), (109, 44), (152, 28), (169, 15), (169, -2), (154, -12), (127, -24), (154, -41), (70, -69), (39, -43), (21, -56), (-23, -61), (-69, -48), (-74, -42), (-96, -47), (-124, -47), (-109, -40), (-138, -35)]]

enemyNumberOfHits = [1, 4, 4, 10, 1, 1, 12, 6, 12, 1000]

enemyPaths = [[(800+32, 0), (790, 1), (780, 5), (770, 11), (760, 19), (750, 29), (740, 40), (730, 53), (720, 68), (710, 83), (700, 98), (690, 114), (680, 129), (670, 143), (660, 157), (650, 169), (640, 179), (630, 188), (620, 194), (610, 198), (600, 200), (590, 199), (580, 196), (570, 191), (560, 184), (550, 174), (540, 163), (530, 150), (520, 136), (510, 121), (500, 106), (490, 90), (480, 75), (470, 60), (460, 47), (450, 34), (440, 23), (430, 14), (420, 7), (410, 3), (400, 0), (390, 0), (380, 3), (370, 7), (360, 14), (350, 23), (340, 34), (330, 47), (320, 60), (310, 75), (300, 90), (290, 106), (280, 121), (270, 136), (260, 150), (250, 163), (240, 174), (230, 184), (220, 191), (210, 196), (200, 199), (190, 200), (180, 198), (170, 194), (160, 188), (150, 179), (140, 169), (130, 157), (120, 143), (110, 129), (100, 114), (90, 98), (80, 83), (70, 68), (60, 53), (50, 40), (40, 29), (30, 19), (20, 11), (10, 5), (0, 1), (-10, 0), (-160, 0)],
              [(800+24, 0), (-160, 0)],
              [(800+24, 0), (-160, 0)],
              [(800+57, 0), (790, -1), (780, -3), (770, -6), (760, -11), (750, -16), (740, -23), (730, -31), (720, -40), (710, -50), (700, -60), (690, -71), (680, -83), (670, -94), (660, -106), (650, -117), (640, -129), (630, -140), (620, -150), (610, -160), (600, -169), (590, -177), (580, -184), (570, -189), (560, -194), (550, -197), (540, -199), (530, -200), (520, -199), (510, -197), (500, -194), (490, -189), (480, -184), (470, -177), (460, -169), (450, -160), (440, -150), (430, -140), (420, -129), (410, -117), (400, -106), (390, -94), (380, -83), (370, -71), (360, -60), (350, -50), (340, -40), (330, -31), (320, -23), (310, -16), (300, -11), (290, -6), (280, -3), (270, -1), (260, 0), (250, -1), (240, -3), (230, -6), (220, -11), (210, -16), (200, -23), (190, -31), (180, -40), (170, -50), (160, -60), (150, -71), (140, -83), (130, -94), (120, -106), (110, -117), (100, -129), (90, -140), (80, -150), (70, -160), (60, -169), (50, -177), (40, -184), (30, -189), (20, -194), (10, -197), (0, -199), (-10, -200), (-160, -200)],
              [(800+85, 0), (-160, 0)],
              [(800+50, 0), (762, 0), (711, -5), (680, -13), (663, -21), (634, -34), (608, -42), (578, -52), (522, -62), (459, -66), (-160, -66)],
              [(800+75, 0), (790, 0), (780, 0), (770, 1), (760, 1), (750, 2), (740, 3), (730, 4), (720, 5), (710, 6), (700, 7), (690, 9), (680, 11), (670, 12), (660, 14), (650, 16), (640, 19), (630, 21), (620, 23), (610, 26), (600, 29), (590, 31), (580, 34), (570, 37), (560, 40), (550, 43), (540, 47), (530, 50), (520, 53), (510, 57), (500, 60), (490, 64), (480, 68), (470, 71), (460, 75), (450, 79), (440, 83), (430, 86), (420, 90), (410, 94), (400, 98), (390, 102), (380, 106), (370, 110), (360, 114), (350, 117), (340, 121), (330, 125), (320, 129), (310, 132), (300, 136), (290, 140), (280, 143), (270, 147), (260, 150), (250, 153), (240, 157), (230, 160), (220, 163), (210, 166), (200, 169), (190, 171), (180, 174), (170, 177), (160, 179), (150, 181), (140, 184), (130, 186), (120, 188), (110, 189), (100, 191), (90, 193), (80, 194), (70, 195), (60, 196), (50, 197), (40, 198), (30, 199), (20, 199), (10, 200), (0, 200), (-160, 200)],
              [(800+63, 0), (790, 0), (780, 1), (770, 3), (760, 5), (750, 7), (740, 11), (730, 14), (720, 19), (710, 23), (700, 29), (690, 34), (680, 40), (670, 47), (660, 53), (650, 60), (640, 68), (630, 75), (620, 83), (610, 90), (600, 98), (590, 106), (580, 114), (570, 121), (560, 129), (550, 136), (540, 143), (530, 150), (520, 157), (510, 163), (500, 169), (490, 174), (480, 179), (470, 184), (460, 188), (450, 191), (440, 194), (430, 196), (420, 198), (410, 199), (400, 200), (390, 200), (380, 199), (370, 198), (360, 196), (350, 194), (340, 191), (330, 188), (320, 184), (310, 179), (300, 174), (290, 169), (280, 163), (270, 157), (260, 150), (250, 143), (240, 136), (230, 129), (220, 121), (210, 114), (200, 106), (190, 98), (180, 90), (170, 83), (160, 75), (150, 68), (140, 60), (130, 53), (120, 47), (110, 40), (100, 34), (90, 29), (80, 23), (70, 19), (60, 14), (50, 11), (40, 7), (30, 5), (20, 3), (10, 1), (0, 0), (-160, 0)],
              [(800+51, 0), (751, 4), (704, 15), (660, 33), (620, 57), (585, 87), (556, 121), (535, 158), (520, 196), (513, 235), (513, 272), (521, 307), (535, 337), (554, 363), (577, 382), (604, 395), (632, 400), (661, 398), (688, 388), (713, 371), (734, 348), (750, 319), (760, 286), (764, 250), (760, 212), (748, 173), (729, 135), (703, 100), (671, 68), (633, 42), (590, 21), (544, 7), (495, 1), (447, 1), (399, 10), (353, 25), (311, 47), (274, 74), (243, 107), (218, 143), (201, 181), (191, 219), (188, 257), (193, 293), (204, 326), (221, 353), (243, 375), (269, 390), (297, 399), (325, 399), (354, 393), (380, 379), (403, 358), (421, 332), (433, 300), (439, 265), (438, 227), (430, 188), (414, 150), (390, 114), (360, 81), (324, 52), (283, 29), (238, 12), (191, 2), (142, 0), (-160, 0)],
              [(800+180, 0), (800-176, 0)]]

enemySpeeds = [4, 1, 1, 3, 6, 4, 2, 4, 3, 0.5 ]

def PositionFromLength(path, length):
    totalLength = 0.0
    for i in range(1, len(path)):
        dx = path[i][0] - path[i-1][0]
        dy = path[i][1] - path[i-1][1]
        nextLength = math.sqrt(dx*dx + dy*dy)
        if length &lt;= totalLength + nextLength:
            localParameter = (length - totalLength) / nextLength
            return True, (path[i-1][0] + localParameter * dx, path[i-1][1] + localParameter * dy)
        totalLength += nextLength
    return False, path[-1]

def Accelerate(path, length):
    length = length * length / 800
    return PositionFromLength(path, length)

def BigBossMovement(path, length):
    inPath, position = PositionFromLength(path, length)
    if inPath:
        return True, position
    totalLength = path[0][0] - path[1][0]
    return True, (position[0], 200*math.sin((length-totalLength)/40))

enemyMovement = [PositionFromLength, PositionFromLength, PositionFromLength, PositionFromLength,
                 Accelerate, PositionFromLength, PositionFromLength, PositionFromLength,
                 PositionFromLength, BigBossMovement ]

def NoBullets(bullets, spaceShip, posX, posY, length, speed):
    pass

def BulletToSpaceship(bullets, spaceShip, posX, posY, speed):
    dx = spaceShip.actor.x - posX
    dy = spaceShip.actor.y - posY
    distance = math.sqrt(dx*dx + dy*dy)
    if distance &gt; 20:
        bullets.append(posX, posY, dx / distance * (speed+3.0), dy / distance * (speed+3.0))

def SomeBulletsToSpaceship(bullets, spaceShip, posX, posY, length, speed):
    if 0 == randint(0,300):
        BulletToSpaceship(bullets, spaceShip, posX, posY, speed)

def MoreBulletsToSpaceship(bullets, spaceShip, posX, posY, length, speed):
    if 0 == randint(0,100):
        BulletToSpaceship(bullets, spaceShip, posX, posY, speed)

def BulletsBigBoss(bullets, spaceShip, posX, posY, length, speed):
    if length &lt; 360:
        MoreBulletsToSpaceship(bullets, spaceShip, posX, posY, length, speed)
        MoreBulletsToSpaceship(bullets, spaceShip, posX, posY, length, speed)
    else:
        if 0 == round(length*2) % 50:
            for i in range(0, 360, 20):
                bullets.append(posX, posY, 3.0 * math.sin(i / 180.0 * math.pi), 3.0 * math.cos(i / 180.0 * math.pi))
        elif 0 == round(length*2) % 71:
            for i in range(0, 360, 10):
                bullets.append(posX, posY, 3.0 * math.sin(i / 180.0 * math.pi), 3.0 * math.cos(i / 180.0 * math.pi))

bulletStrategy = [NoBullets, MoreBulletsToSpaceship, MoreBulletsToSpaceship, SomeBulletsToSpaceship,
                  NoBullets, NoBullets, MoreBulletsToSpaceship, MoreBulletsToSpaceship,
                  MoreBulletsToSpaceship, BulletsBigBoss ]

def NoPowerup(powerups, posX, posY):
    pass

def AddPowerup(powerups, posX, posY):
    powerups.append(posX, posY)

powerUpStrategy = [AddPowerup, NoPowerup, NoPowerup, NoPowerup,
                   NoPowerup, NoPowerup, NoPowerup, NoPowerup,
                   NoPowerup, NoPowerup ]

class Enemy:
    def __init__(self, index, startY):
        self.index = index
        self.startY = startY
        self.actor = Actor(enemyNames[index], (800+200,startY))
        self.actorWhite = Actor(enemyNames[index]+&quot;_white&quot;, (800+200,startY))
        self.positionInPath = 0.0
        self.polygon = Polygon(enemyPolyCoords[index])
        self.numberOfHits = enemyNumberOfHits[index]
        self.lastHit = 0
    def draw(self):
        if self.lastHit == 0:
            self.actor.draw()
        else:
            self.actorWhite.draw()
            self.lastHit -= 1
    def translate(self, posX, posY):
        self.actor.x = self.actorWhite.x = posX
        self.actor.y = self.actorWhite.y = posY
    def update(self, bullets, spaceShip):
        self.positionInPath += enemySpeeds[self.index]
        active, position = enemyMovement[self.index](enemyPaths[self.index], self.positionInPath)
        if active:
            self.translate(position[0], position[1] + self.startY)
            bulletStrategy[self.index](bullets, spaceShip, position[0], position[1] + self.startY, self.positionInPath, enemySpeeds[self.index])
        return active
    def hit(self, powerups):
        self.numberOfHits -= 1
        if self.numberOfHits &lt;= 0:
            powerUpStrategy[self.index](powerups, self.actor.x, self.actor.y)
            return True
        self.lastHit = 5
        return False

# cursor LEFT and RIGHT: change path
# mouse up and down: change Y starting point
# mouse CLICK: add enemy, path, start Y, time to start
# SPACE: print list

foreground = Foreground()

class SpaceShip:
    def __init__(self):
        self.actor = Actor(&quot;spaceship&quot;, (0,300))
spaceship = SpaceShip()

class Bullets:
    def __init__(self):
        pass
    def append(self, a, b, c, d):
        pass
bullets = Bullets()

class EnemyList:
    def __init__(self):
        self.listEnemies = []
    def draw(self):
        for enemy in self.listEnemies:
            enemy.draw()
    def update(self):
        for i in reversed(range(len(self.listEnemies))):
            active = self.listEnemies[i].update(bullets, spaceship)
            if not active:
                del self.listEnemies[i]
    def AddElement(self, enemy, posY):
        self.listEnemies.append(Enemy(enemy, posY))

enemies = [Enemy(i, 0) for i in range(len(enemyNames))]
enemyList = EnemyList()

currentEnemy = 0
currentY = 300

listElements = []
globalTime = 0

def draw():
    screen.clear()
    foreground.draw()
    enemyList.draw()
    enemies[currentEnemy].draw()
    for i in range(1, len(enemyPaths[currentEnemy])):
        screen.draw.line((enemyPaths[currentEnemy][i-1][0], enemyPaths[currentEnemy][i-1][1] + currentY),
                         (enemyPaths[currentEnemy][i][0], enemyPaths[currentEnemy][i][1] + currentY), (255,255,255))

def update():
    global globalTime
    globalTime += 1
    foreground.update(globalTime)
    enemies[currentEnemy].translate(800-50, currentY)
    enemyList.update()

def on_mouse_down(pos, button):
    listElements.append([currentEnemy, currentY, globalTime])
    enemyList.AddElement(currentEnemy, currentY)

def on_mouse_move(pos):
    global currentY
    currentY = pos[1]

def on_key_down(key):
    global currentEnemy
    if key == keys.SPACE:
        print(str(listElements))
    elif key == keys.LEFT or key == keys.UP:
        currentEnemy = (currentEnemy - 1) % len(enemies)
    elif key == keys.RIGHT or key == keys.DOWN:
        currentEnemy = (currentEnemy + 1) % len(enemies)

pgzrun.go()
</code></pre>
</main>

<script>
const output = document.querySelector('#output');

/*
 * Return a random integer N such that min <= N < max.
 */
function getRandomInteger(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor((Math.random() * (max - min)) + min);
}

const FOREGROUND_MAP = JSON.parse(document.querySelector('#foreground').textContent);

const FOREGROUND_BIGGEST_OBJECT_HALF_X_SIZE = 206;

class Foreground {
  constructor() {
    this.elements = [];
    this.mapElement = 0;
  }

  draw() {
    for (let element of this.elements) {
      element.draw();
    }
  }

  update(globalTime) {
    for (let i = (this.elements.length - 1); i > -1; i--) {
      this.elements[i].posx -= 1;
      if (this.elements[i].posx < -FOREGROUND_BIGGEST_OBJECT_HALF_X_SIZE) {
        this.elements.splice(i, 1);
      }
    }
    if (this.mapElement < FOREGROUND_MAP.length) {
      while (FOREGROUND_MAP[this.mapElement][1] < (globalTime + 800 + FOREGROUND_BIGGEST_OBJECT_HALF_X_SIZE)) {
        let actor = new Actor(FOREGROUND_MAP[this.mapElement][0]);
        actor.pos = [FOREGROUND_MAP[this.mapElement][1] - globalTime, FOREGROUND_MAP[this.mapElement][2]];
        this.elements.push(actor);
        this.mapElement += 1;
        if (this.mapElement >= FOREGROUND_MAP.length) {
          break;
        }
      }
    }
  }
}

const ENEMY_DATA = JSON.parse(document.querySelector('#enemy').textContent);

function PositionFromLength(path, length) {
  let totalLength = 0.0,
      dx, dy, nextLength, localParameter;
  for (let i = 1; i < path.length; i++) {
    dx = path[i][0] - path[i-1][0];
    dy = path[i][1] - path[i-1][1];
    nextLength = Math.sqrt((dx * dx) + (dy * dy));
    if (length <= (totalLength + nextLength)) {
      localParameter = (length - totalLength) / nextLength;
      return [true, [path[i-1][0] + (localParameter * dx), path[i-1][1] + (localParameter * dy)]];
    }
    totalLength += nextLength;
  }
  return [false, path[-1]];
}

function Accelerate(path, length) {
  length = length * length / 800;
  return PositionFromLength(path, length);
}

function BigBossMovement(path, length) {
  let [inPath, position] = PositionFromLength(path, length);
  if (inPath) {
    return [true, position];
  }
  totalLength = path[0][0] - path[1][0];
  return [true, [position[0], 200 * Math.sin((length - totalLength) / 40)]];
}

function NoBullets(bullets, spaceShip, posX, posY, length, speed) {
}

function BulletToSpaceship(bullets, spaceShip, posX, posY, speed) {
  let dx = spaceShip.actor.posx - posX,
      dy = spaceShip.actor.posy - posY,
      distance = Math.sqrt((dx * dx) + (dy * dy));
  if (distance > 20) {
    bullets.append(posX, posY, (dx / distance) * (speed + 3.0), (dy / distance) * (speed + 3.0));
  }
}

function SomeBulletsToSpaceship(bullets, spaceShip, posX, posY, length, speed) {
  if (0 === getRandomInteger(0, 301)) {
    BulletToSpaceship(bullets, spaceShip, posX, posY, speed);
  }
}

function MoreBulletsToSpaceship(bullets, spaceShip, posX, posY, length, speed) {
  if (0 === getRandomInteger(0, 101)) {
    BulletToSpaceship(bullets, spaceShip, posX, posY, speed);
  }
}

function BulletsBigBoss(bullets, spaceShip, posX, posY, length, speed) {
  if (length < 360) {
    MoreBulletsToSpaceship(bullets, spaceShip, posX, posY, length, speed);
    MoreBulletsToSpaceship(bullets, spaceShip, posX, posY, length, speed);
  }
  else {
    if (0 === (Math.round(length * 2) % 50)) {
      for (let i = 0; i < 360; i += 20) {
        bullets.append(posX, posY, 3.0 * Math.sin(i / 180.0 * Math.PI), 3.0 * Math.cos(i / 180.0 * Math.PI));
      }
    }
    else if (0 === (Math.round(length * 2) % 71)) {
      for (let i = 0; i < 360; i += 10) {
        bullets.append(posX, posY, 3.0 * Math.sin(i / 180.0 * Math.PI), 3.0 * Math.cos(i / 180.0 * Math.PI));
      }
    }
  }
}

class Enemy {
  constructor(index, startY) {
    this.index = index;
    this.startY = startY;
    this.actor = new Actor(index);
    this.actor.pos = [800 + 200, startY];
    this.actorWhite = new Actor(index + "_white");
    this.actorWhite.pos = [800 + 200, startY];
    this.positionInPath = 0.0;
    this.numberOfHits = ENEMY_DATA[index].hits;
    this.lastHit = 0;
  }

  draw() {
    if (this.lastHit === 0) {
      this.actor.draw();
    }
    else {
      this.actorWhite.draw();
      this.lastHit -= 1;
    }
  }

  translate(posX, posY) {
    this.actor.posx = posX;
    this.actor.posy = posY;
    this.actorWhite.posx = posX;
    this.actorWhite.posy = posY;
  }

  update(bullets, spaceShip) {
    this.positionInPath += ENEMY_DATA[this.index].speed;
    let [active, position] = ENEMY_DATA[this.index].movements(ENEMY_DATA[this.index].path, this.positionInPath);
    if (active) {
      this.translate(position[0], position[1] + this.startY);
      ENEMY_DATA[this.index].bullets(bullets, spaceShip, position[0], position[1] + this.startY, this.positionInPath, ENEMY_DATA[this.index].speed);
    }
    return active;
  }

  hit(powerups) {
    this.numberOfHits -= 1;
    if (this.numberOfHits <= 0) {
      if ('powerup' in ENEMY_DATA[this.index]) {
        powerups.append(this.actor.posx, this.actor.posy);
      }
      return true;
    }
    this.lastHit = 5;
    return false;
  }
}

// cursor LEFT and RIGHT: change path
// mouse up and down: change Y starting point
// mouse CLICK: add enemy, path, start Y, time to start
// SPACE: print list

class SpaceShip {
  constructor() {
    this.actor = new Actor("spaceship");
    this.actor.pos = [0, 300];
  }
}

class Bullets {
  constructor() {
  }

  append(a, b, c, d) {
  }
}

class EnemyList {
  constructor() {
    this.listEnemies = [];
  }

  draw() {
    for (let enemy of this.listEnemies) {
      enemy.draw();
    }
  }

  update() {
    for (let i = (this.listEnemies.length - 1); i > -1; i--) {
      let active = this.listEnemies[i].update(bullets, spaceship);
      if (!active) {
        this.listEnemies.splice(i, 1);
      }
    }
  }

  AddElement(enemy, posY) {
    this.listEnemies.push(new Enemy(enemy, posY));
  }
}

var foreground, spaceship, bullets, enemies, enemyList, currentEnemy, currentY, listElements, globalTime;

function reset() {
  foreground = new Foreground();
  spaceship = new SpaceShip();
  bullets = new Bullets();
  enemies = [];
  for (const name of Object.getOwnPropertyNames(ENEMY_DATA)) {
    enemies.push(new Enemy(name, 0));

    if ('movements' in ENEMY_DATA[name]) {
      if (ENEMY_DATA[name]['movements'] === 'boss') {
        ENEMY_DATA[name].movements = BigBossMovement;
      }
      else if (ENEMY_DATA[name]['movements'] === 'accelerate') {
        ENEMY_DATA[name].movements = Accelerate;
      }
      else {
        ENEMY_DATA[name].movements = PositionFromLength;
      }
    }
    else {
      ENEMY_DATA[name].movements = PositionFromLength;
    }

    if ('bullets' in ENEMY_DATA[name]) {
      if (ENEMY_DATA[name]['bullets'] === 'boss') {
        ENEMY_DATA[name].bullets = BulletsBigBoss;
      }
      else if (ENEMY_DATA[name]['bullets'] === 'more') {
        ENEMY_DATA[name].bullets = MoreBulletsToSpaceship;
      }
      else if (ENEMY_DATA[name]['bullets'] === 'some') {
        ENEMY_DATA[name].bullets = SomeBulletsToSpaceship;
      }
      else {
        ENEMY_DATA[name].bullets = NoBullets;
      }
    }
    else {
      ENEMY_DATA[name].bullets = NoBullets;
    }
  }
  enemyList = new EnemyList();

  currentEnemy = 0;
  currentY = 300;

  listElements = [];
  globalTime = 0;
}

function draw() {
  screen.clear();
  foreground.draw();
  enemyList.draw();
  enemies[currentEnemy].draw();
  let path = ENEMY_DATA[enemies[currentEnemy].index].path;
  for (let i = 1; i < path.length; i++) {
    screen.draw.line([path[i-1][0], path[i-1][1] + currentY],
                     [path[i][0], path[i][1] + currentY], [255, 255, 255]);
  }
}

function update() {
  globalTime += 1;
  foreground.update(globalTime);
  enemies[currentEnemy].translate(800 - 50, currentY);
  enemyList.update();
}

function on_mouse_down(pos, button) {
  listElements.push([enemies[currentEnemy].index, currentY, globalTime]);
  enemyList.AddElement(enemies[currentEnemy].index, currentY);
}

function on_mouse_move(pos) {
  currentY = pos[1];
}

function on_key_down(key) {
  if (key === keys.SPACE) {
    console.log(JSON.stringify(listElements));
    output.textContent = JSON.stringify(listElements);
  }
  else if ((key === keys.LEFT) || (key === keys.UP)) {
    currentEnemy = (currentEnemy + enemies.length - 1) % enemies.length;
  }
  else if ((key === keys.RIGHT) || (key === keys.DOWN)) {
    currentEnemy = (currentEnemy + 1) % enemies.length;
  }
}

window.addEventListener('load', (event) => {
  images.LOAD('#imageLoader img');
  reset();
  screen.set_mode('#screen', '#reset', '#pause');
});
</script>
</body>

</html>
